!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define([],t):"object"==typeof exports?exports.AfterEffectPlayer=t():e.AfterEffectPlayer=t()}(window,function(){return function(e){var t=window.webpackHotUpdate_name_;window.webpackHotUpdate_name_=function(e,n){!function(e,t){if(!m[e]||!b[e])return;for(var n in b[e]=!1,t)Object.prototype.hasOwnProperty.call(t,n)&&(p[n]=t[n]);0==--v&&0===g&&x()}(e,n),t&&t(e,n)};var n,r=!0,o="e8935345eafacdbebc64",i=1e4,a={},s=[],u=[];function c(e){var t=E[e];if(!t)return M;var r=function(r){return t.hot.active?(E[r]?-1===E[r].parents.indexOf(e)&&E[r].parents.push(e):(s=[e],n=r),-1===t.children.indexOf(r)&&t.children.push(r)):(console.warn("[HMR] unexpected require("+r+") from disposed module "+e),s=[]),M(r)},o=function(e){return{configurable:!0,enumerable:!0,get:function(){return M[e]},set:function(t){M[e]=t}}};for(var i in M)Object.prototype.hasOwnProperty.call(M,i)&&"e"!==i&&Object.defineProperty(r,i,o(i));return r.e=function(e){return"ready"===l&&f("prepare"),g++,M.e(e).then(t,function(e){throw t(),e});function t(){g--,"prepare"===l&&(w[e]||P(e),0===g&&0===v&&x())}},r}var d=[],l="idle";function f(e){l=e;for(var t=0;t<d.length;t++)d[t].call(null,e)}var h,p,y,v=0,g=0,w={},b={},m={};function _(e){return+e+""===e?+e:e}function O(e){if("idle"!==l)throw new Error("check() is only allowed in idle status");return r=e,f("check"),(t=i,t=t||1e4,new Promise(function(e,n){if("undefined"==typeof XMLHttpRequest)return n(new Error("No browser support"));try{var r=new XMLHttpRequest,i=M.p+""+o+".hot-update.json";r.open("GET",i,!0),r.timeout=t,r.send(null)}catch(e){return n(e)}r.onreadystatechange=function(){if(4===r.readyState)if(0===r.status)n(new Error("Manifest request to "+i+" timed out."));else if(404===r.status)e();else if(200!==r.status&&304!==r.status)n(new Error("Manifest request to "+i+" failed."));else{try{var t=JSON.parse(r.responseText)}catch(e){return void n(e)}e(t)}}})).then(function(e){if(!e)return f("idle"),null;b={},w={},m=e.c,y=e.h,f("prepare");var t=new Promise(function(e,t){h={resolve:e,reject:t}});p={};return P(0),"prepare"===l&&0===g&&0===v&&x(),t});var t}function P(e){m[e]?(b[e]=!0,v++,function(e){var t=document.getElementsByTagName("head")[0],n=document.createElement("script");n.charset="utf-8",n.src=M.p+""+e+"."+o+".hot-update.js",t.appendChild(n)}(e)):w[e]=!0}function x(){f("ready");var e=h;if(h=null,e)if(r)Promise.resolve().then(function(){return j(r)}).then(function(t){e.resolve(t)},function(t){e.reject(t)});else{var t=[];for(var n in p)Object.prototype.hasOwnProperty.call(p,n)&&t.push(_(n));e.resolve(t)}}function j(t){if("ready"!==l)throw new Error("apply() is only allowed in ready status");var n,r,i,u,c;function d(e){for(var t=[e],n={},r=t.slice().map(function(e){return{chain:[e],id:e}});r.length>0;){var o=r.pop(),i=o.id,a=o.chain;if((u=E[i])&&!u.hot._selfAccepted){if(u.hot._selfDeclined)return{type:"self-declined",chain:a,moduleId:i};if(u.hot._main)return{type:"unaccepted",chain:a,moduleId:i};for(var s=0;s<u.parents.length;s++){var c=u.parents[s],d=E[c];if(d){if(d.hot._declinedDependencies[i])return{type:"declined",chain:a.concat([c]),moduleId:i,parentId:c};-1===t.indexOf(c)&&(d.hot._acceptedDependencies[i]?(n[c]||(n[c]=[]),h(n[c],[i])):(delete n[c],t.push(c),r.push({chain:a.concat([c]),id:c})))}}}}return{type:"accepted",moduleId:e,outdatedModules:t,outdatedDependencies:n}}function h(e,t){for(var n=0;n<t.length;n++){var r=t[n];-1===e.indexOf(r)&&e.push(r)}}t=t||{};var v={},g=[],w={},b=function(){console.warn("[HMR] unexpected require("+P.moduleId+") to disposed module")};for(var O in p)if(Object.prototype.hasOwnProperty.call(p,O)){var P;c=_(O);var x=!1,j=!1,A=!1,S="";switch((P=p[O]?d(c):{type:"disposed",moduleId:O}).chain&&(S="\nUpdate propagation: "+P.chain.join(" -> ")),P.type){case"self-declined":t.onDeclined&&t.onDeclined(P),t.ignoreDeclined||(x=new Error("Aborted because of self decline: "+P.moduleId+S));break;case"declined":t.onDeclined&&t.onDeclined(P),t.ignoreDeclined||(x=new Error("Aborted because of declined dependency: "+P.moduleId+" in "+P.parentId+S));break;case"unaccepted":t.onUnaccepted&&t.onUnaccepted(P),t.ignoreUnaccepted||(x=new Error("Aborted because "+c+" is not accepted"+S));break;case"accepted":t.onAccepted&&t.onAccepted(P),j=!0;break;case"disposed":t.onDisposed&&t.onDisposed(P),A=!0;break;default:throw new Error("Unexception type "+P.type)}if(x)return f("abort"),Promise.reject(x);if(j)for(c in w[c]=p[c],h(g,P.outdatedModules),P.outdatedDependencies)Object.prototype.hasOwnProperty.call(P.outdatedDependencies,c)&&(v[c]||(v[c]=[]),h(v[c],P.outdatedDependencies[c]));A&&(h(g,[P.moduleId]),w[c]=b)}var k,T=[];for(r=0;r<g.length;r++)c=g[r],E[c]&&E[c].hot._selfAccepted&&T.push({module:c,errorHandler:E[c].hot._selfAccepted});f("dispose"),Object.keys(m).forEach(function(e){!1===m[e]&&function(e){delete installedChunks[e]}(e)});for(var D,H,I=g.slice();I.length>0;)if(c=I.pop(),u=E[c]){var R={},C=u.hot._disposeHandlers;for(i=0;i<C.length;i++)(n=C[i])(R);for(a[c]=R,u.hot.active=!1,delete E[c],delete v[c],i=0;i<u.children.length;i++){var B=E[u.children[i]];B&&((k=B.parents.indexOf(c))>=0&&B.parents.splice(k,1))}}for(c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&(u=E[c]))for(H=v[c],i=0;i<H.length;i++)D=H[i],(k=u.children.indexOf(D))>=0&&u.children.splice(k,1);for(c in f("apply"),o=y,w)Object.prototype.hasOwnProperty.call(w,c)&&(e[c]=w[c]);var q=null;for(c in v)if(Object.prototype.hasOwnProperty.call(v,c)&&(u=E[c])){H=v[c];var F=[];for(r=0;r<H.length;r++)if(D=H[r],n=u.hot._acceptedDependencies[D]){if(-1!==F.indexOf(n))continue;F.push(n)}for(r=0;r<F.length;r++){n=F[r];try{n(H)}catch(e){t.onErrored&&t.onErrored({type:"accept-errored",moduleId:c,dependencyId:H[r],error:e}),t.ignoreErrored||q||(q=e)}}}for(r=0;r<T.length;r++){var W=T[r];c=W.module,s=[c];try{M(c)}catch(e){if("function"==typeof W.errorHandler)try{W.errorHandler(e)}catch(n){t.onErrored&&t.onErrored({type:"self-accept-error-handler-errored",moduleId:c,error:n,originalError:e}),t.ignoreErrored||q||(q=n),q||(q=e)}else t.onErrored&&t.onErrored({type:"self-accept-errored",moduleId:c,error:e}),t.ignoreErrored||q||(q=e)}}return q?(f("fail"),Promise.reject(q)):(f("idle"),new Promise(function(e){e(g)}))}var E={};function M(t){if(E[t])return E[t].exports;var r=E[t]={i:t,l:!1,exports:{},hot:function(e){var t={_acceptedDependencies:{},_declinedDependencies:{},_selfAccepted:!1,_selfDeclined:!1,_disposeHandlers:[],_main:n!==e,active:!0,accept:function(e,n){if(void 0===e)t._selfAccepted=!0;else if("function"==typeof e)t._selfAccepted=e;else if("object"==typeof e)for(var r=0;r<e.length;r++)t._acceptedDependencies[e[r]]=n||function(){};else t._acceptedDependencies[e]=n||function(){}},decline:function(e){if(void 0===e)t._selfDeclined=!0;else if("object"==typeof e)for(var n=0;n<e.length;n++)t._declinedDependencies[e[n]]=!0;else t._declinedDependencies[e]=!0},dispose:function(e){t._disposeHandlers.push(e)},addDisposeHandler:function(e){t._disposeHandlers.push(e)},removeDisposeHandler:function(e){var n=t._disposeHandlers.indexOf(e);n>=0&&t._disposeHandlers.splice(n,1)},check:O,apply:j,status:function(e){if(!e)return l;d.push(e)},addStatusHandler:function(e){d.push(e)},removeStatusHandler:function(e){var t=d.indexOf(e);t>=0&&d.splice(t,1)},data:a[e]};return n=void 0,t}(t),parents:(u=s,s=[],u),children:[]};return e[t].call(r.exports,r,r.exports,c(t)),r.l=!0,r.exports}return M.m=e,M.c=E,M.d=function(e,t,n){M.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},M.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},M.t=function(e,t){if(1&t&&(e=M(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(M.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var r in e)M.d(n,r,function(t){return e[t]}.bind(null,r));return n},M.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return M.d(t,"a",t),t},M.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},M.p="/",M.h=function(){return o},c(5)(M.s=5)}([function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e,t){return(""+e).length<t?(new Array(t+1).join("0")+e).slice(-t):""+e},e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();var a=window.AudioContext||window.webkitAudioContext||window.mozAudioContext||window.msAudioContext,s=window.AudioNode||window.webkitAudioNode||window.mozAudioNode||window.msAudioNode,u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.audioContext=a?new a:null,this.audioNode=null,this.analyser=null,this.audio=null,this.options={},t&&this.setAudio(t,n)}return i(e,[{key:"setAudio",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.options,n=this.isSupport();if(!n.state){var i="Sorry,you browser seems not to support "+n.list.join(", ")+". Please try to use other browsers.";throw new Error(i)}return"object"===(void 0===t?"undefined":o(t))&&(this.options=r({},this.options,t)),this.checkType(e),this}},{key:"isSupport",value:function(){var e={list:[]};return a||e.list.push("AudioContext"),e.list.length>0?(e.state=!1,e):{state:!0}}},{key:"checkType",value:function(e){console.log(e);var t=new Error("Input is a illegal param which only is [URL] or [audio Element] or [AudioNode].");if("string"==typeof e){if(!/(blob\:)?(http|https|ftp):\/\/[^\s]*/.test(e))throw new Error("This URL is illegal");this.loadMusic(e)}else{if("object"!==(void 0===e?"undefined":o(e)))throw t;if(1===e.nodeType){if("AUDIO"!==e.tagName)throw t;e.crossOrigin="anonymous",this.audio=e,this.getAnalyser()}else{if(!(e instanceof s))throw t;this.audioBufferSouceNode=e,this.audioContext=e.context,this.getAnalyser()}}return this}},{key:"loadMusic",value:function(e){return this.audio||(this.audio=new Audio,this.audio.crossOrigin="anonymous",this.audio.style.display="none",this.audio.onerror=function(e){throw new Error(e)},this.options.onended&&(this.audio.onended=this.options.onended)),this.audio.src=e,this}},{key:"getAudio",value:function(){return this.audio}},{key:"getAudioContext",value:function(){return this.audioContext}},{key:"getAnalyser",value:function(){this.audioContext||(this.audioContext=new a),this.audioNode||(this.audioNode=this.audioContext.createMediaElementSource(this.audio));var e=this.audioContext,t=this.audioNode,n=e.createAnalyser(),r=e.createAnalyser();console.log(t.channelCount),e.createGain=e.createGain||e.createGainNode;var o=e.createChannelSplitter(2);e.createChannelMerger(2),e.createGain(),e.createGain();return t.connect(o),o.connect(n,0,0),o.connect(r,1,0),t.connect(e.destination),this.analyser={left:n,right:r},this}},{key:"getByteFrequency",value:function(){var e=this.analyser,t=new Uint8Array(e.left.frequencyBinCount);e.left.getByteFrequencyData(t);var n=new Uint8Array(e.right.frequencyBinCount);return e.right.getByteFrequencyData(n),{frequencyLeft:t,frequencyRight:n}}}]),e}();t.default=u,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},i=s(n(1)),a=s(n(0));function s(e){return e&&e.__esModule?e:{default:e}}var u=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame,c=window.cancelAnimationFrame||window.webkitCancelAnimationFrame||window.mozCancelAnimationFrame||window.msCancelAnimationFrame,d=function(e){function t(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var e=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return e.canvas=e.canvas||document.createElement("canvas"),e.ctx=e.canvas.getContext("2d"),e.canvasWidth=300,e.canvasHeight=300,e.FPS=0,e.radius=0,e.drawRenderID=null,e.shine=!0,e.shining=.5,e.rotateTime=0,e.progressBar={},e}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),r(t,[{key:"drawerInit",value:function(e,t,n){return this.getSize(e),this.appendToNode(),this.draw(),this}},{key:"isSupport",value:function(){var e=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"isSupport",this).call(this);return e.state&&(e.list=[]),this.canvas.getContext||e.list.push("canvas"),u||e.list.push("requestAnimationFrame"),c||e.list.push("cancelAnimationFrame"),e.list.length>0?(e.state=!1,e):{state:!0}}},{key:"getSize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.node;if(e.clientWidth>300)this.canvas.width=this.canvasWidth=e.clientWidth;else if(0===e.clientWidth)throw new Error("no Width");if(e.clientHeight>300)this.canvas.height=this.canvasHeight=e.clientHeight;else if(0===e.clientHeight)throw new Error("no Height");return{canvasWidth:this.canvasWidth,canvasHeight:this.canvasHeight}}},{key:"appendToNode",value:function(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.node).appendChild(this.canvas)}},{key:"draw",value:function(){var e=this,n=o(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"getAnalyser",this).call(this),r=0,i=Date.now();this.drawRenderID=u(function t(){var o=e.drawFrequencyRender(n);e.drawProgressRender(o),e.drawTitle(o),e.drawTime(o);var a=Date.now(),s=a-i;r+=1,s>=1e3&&(i+=s,e.FPS=r,"function"==typeof e.options.watchFPS&&e.options.watchFPS(r,a),r=0),e.audio.ended?c(e.drawRenderID):e.drawRenderID=u(t)})}},{key:"drawRoundedRect",value:function(e,t){var n=t.x,r=t.y,o=t.w,i=t.h,a=t.r;e.beginPath(),e.moveTo(n+a,r),e.arcTo(n+o,r,n+o,r+i,a),e.arcTo(n+o,r+i,n,r+i,a),e.arcTo(n,r+i,n,r,a),e.arcTo(n,r,n+o,r,a),e.fill(),e.closePath()}},{key:"drawFrequencyRender",value:function(e){var t=e.getByteFrequency(),n=t.frequencyLeft,r=t.frequencyRight,o=this.options.DynamicResolution?this.getSize():{canvasWidth:this.canvasWidth,canvasHeight:this.canvasHeight},i=o.canvasWidth,a=o.canvasHeight,s=this.ctx;this.options.DynamicResolution&&this.getSize();var u=this.radius=a<i?a/2:i/2,c=1/u+u/40,d=2*Math.PI*u/c,l=n.length/d,f=100/d;s.clearRect(0,0,i,a),s.save();for(var h=0;h<d;h++){var p=0,y=0;if(h<d/2){p=n[Math.round(h*l)];var v=Math.round(n.length/2+h*l);y=n[v<n.length?v:n.length-1]}else{var g=Math.round((d-h)*l);p=r[g<0?0:g];var w=Math.round(r.length/2+(d-h)*l);y=r[w<r.length?w:r.length-1]}s.translate(i/2,a/2),s.rotate(360/d*h*Math.PI/180);var b=u-y*u/255*.5,m=u/526;s.beginPath();var _=s.createRadialGradient(0,.7*b,1*m,0,.7*b,5*m);Math.floor(310+f*h)<360?(_.addColorStop(0,"hsla("+Math.floor(310+f*h)+",90%,50%,1)"),_.addColorStop(1,"hsla("+Math.floor(310+f*h)+",90%,50%,0)")):(_.addColorStop(0,"hsla("+Math.floor(f*h-50)+",90%,50%,1)"),_.addColorStop(1,"hsla("+Math.floor(f*h-50)+",90%,50%,0)")),s.fillStyle=_,s.arc(0,.7*b,4*m,0,2*Math.PI,!1),s.closePath(),s.fill(),s.restore(),s.save(),s.beginPath(),s.translate(i/2,a/2),s.rotate((90+360/d*h)*Math.PI/180),Math.floor(310+f*h)<360?s.fillStyle="hsl("+Math.floor(310+f*h)+",90%,50%)":s.fillStyle="hsl("+Math.floor(f*h-50)+",90%,50%)";var O={x:8*m,w:5*m};this.drawRoundedRect(s,{x:.7*u+O.x,y:0,w:p*u*(1-.7)/255+O.w,h:4*m,r:2*m}),s.restore(),s.save()}return u}},{key:"drawTitle",value:function(e){var t={canvasWidth:this.canvasWidth,canvasHeight:this.canvasHeight},n=t.canvasWidth,r=t.canvasHeight,o=this.ctx,i=this.options.title||"",a=.1*e;o.font=a+"px normal";var s=o.measureText(i).width;s>e&&(a*=e/s,o.font=a+"px normal",s=o.measureText(i).width),o.fillText(i,(n-s)/2,r/2-.3*e),o.restore(),o.save()}},{key:"drawProgressRender",value:function(e){var t={canvasWidth:this.canvasWidth,canvasHeight:this.canvasHeight},n=t.canvasWidth,r=t.canvasHeight,o=this.ctx,i=e/526,a=this.progressBar.height=.004*r,s=this.progressBar.top=(r-a)/2,u=this.progressBar.width=1.2*e,c=this.progressBar.start=(n-u)/2,d=this.progressBar.end=(n+u)/2;o.beginPath(),o.lineWidth=a,o.strokeStyle="#fff",o.moveTo(c,s),o.lineTo(d,s),o.stroke(),o.closePath(),o.restore(),o.save(),o.beginPath(),o.fillStyle="rgba(136,235,255,0.3)",o.strokeStyle="#88ebff",o.save(),this.shine?(this.shining+=.01,this.shining>=1&&(this.shine=!1)):(this.shining-=.01,this.shining<=.6&&(this.shine=!0));var l={x:c+this.audio.currentTime/this.audio.duration*e*1.2,y:s,r:e/10};this.progressBar.pionterRadius=l.r,o.translate(l.x*(1-this.shining),l.y*(1-this.shining)),o.scale(this.shining,this.shining),o.arc(l.x,l.y,l.r,0,2*Math.PI,!1),o.closePath(),o.fill(),o.stroke(),o.restore(),o.beginPath(),o.fillStyle="#fff",o.arc(l.x,l.y,l.r/1.5-l.r/3.75,0,2*Math.PI,!1),o.fill(),o.save(),o.translate(l.x,l.y),o.rotate(2*this.rotateTime*Math.PI/180),o.translate(-l.x,-l.y),o.beginPath(),o.lineWidth=5*i,o.strokeStyle="#fff",o.arc(l.x,l.y,l.r/1.5-l.r/7.5,-45*Math.PI/180,45*Math.PI/180),o.stroke(),o.beginPath(),o.strokeStyle="#fff",o.arc(l.x,l.y,l.r/1.5-l.r/7.5,-135*Math.PI/180,135*Math.PI/180,!0),o.stroke(),o.restore(),o.save(),this.rotateTime+=1}},{key:"drawTime",value:function(e){var t={canvasWidth:this.canvasWidth,canvasHeight:this.canvasHeight},n=t.canvasWidth,r=t.canvasHeight,o=this.ctx,i=.04*e;o.font=i+"px normal";var s=o.measureText("ELAPSED").width;o.fillText("ELAPSED",n/2-.6*e,r/2+.3*e-i/2);var u=.09*e,c=this.audio.currentTime,d=(0,a.default)(Math.floor(c/60),2)+"："+(0,a.default)(Math.floor(c)%60,2);o.font=u+"px normal";o.measureText(d).width;o.fillText(d,n/2-e*(.6-.05)+s,r/2+.3*e);var l=.04*e;o.font=l+"px normal";o.measureText("REMAINED").width;o.save();var f=.09*e,h=this.audio.duration-c,p=(0,a.default)(Math.floor(h/60),2)+"："+(0,a.default)(Math.floor(h)%60,2);o.font=f+"px normal";var y=o.measureText(p).width;o.fillText(p,n/2+.04*e,r/2+.3*e),o.restore(),o.fillText("REMAINED",n/2+e*(.04+.045)+y,r/2+.3*e-l/2),o.save()}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},a=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),s=function e(t,n,r){null===t&&(t=Function.prototype);var o=Object.getOwnPropertyDescriptor(t,n);if(void 0===o){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,n,r)}if("value"in o)return o.value;var a=o.get;return void 0!==a?a.call(r):void 0},u=n(2),c=(r=u)&&r.__esModule?r:{default:r};var d=function(e){function t(e,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var o=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.node=null,o.dragging=!1,o.isInit=!1,o.listenMousePosition(),e&&n&&o.init(e,n,r),o}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,c.default),a(t,[{key:"init",value:function(e,n,r){return this.node=e,this.options.DynamicResolution=!0,"object"===(void 0===r?"undefined":i(r))&&(this.options=o({},this.options,r)),s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setAudio",this).call(this,n),this.drawerInit(e,n,r),this.isInit=!0,this}},{key:"changeAudio",value:function(e){if(this.isInit)return s(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"setAudio",this).call(this,e),this}},{key:"play",value:function(){if(!this.audio)throw new Error("no audio");return this.audio.play(),this}},{key:"pause",value:function(){if(!this.audio)throw new Error("no audio");return this.audio.pause(),this}},{key:"listenMousePosition",value:function(){var e=this,t=this.canvas,n=document.body;t.addEventListener("mousedown",function(t){if(!e.audio||!e.audio.ended){var n=t.pageY>e.progressBar.top-e.progressBar.pionterRadius&&t.pageY<e.progressBar.top+e.progressBar.pionterRadius,r=t.pageX>e.progressBar.start&&t.pageX<e.progressBar.end;if(n&&r){e.dragging=!0;var o=(t.pageX-e.progressBar.start)/e.progressBar.width*e.audio.duration;e.audio.currentTime=o}}}),n.addEventListener("mousemove",function(t){if(e.dragging){var n=(t.pageX-e.progressBar.start)/e.progressBar.width*e.audio.duration;e.audio.currentTime=n}}),n.addEventListener("mouseup",function(t){if(e.dragging&&(e.dragging=!1,!e.audio||!e.audio.ended)){var n=(t.pageX-e.progressBar.start)/e.progressBar.width*e.audio.duration;e.audio.currentTime=n}}),n.addEventListener("mouseleave",function(t){if(e.dragging&&(e.dragging=!1,!e.audio||!e.audio.ended)){var n=(t.pageX-e.progressBar.start)/e.progressBar.width*e.audio.duration;e.audio.currentTime=n}})}}]),t}();t.default=d,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(3),i=(r=o)&&r.__esModule?r:{default:r};var a=function(e){function t(){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,i.default),t}();t.default=a,e.exports=t.default},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r,o=n(4),i=(r=o)&&r.__esModule?r:{default:r};t.default=i.default,e.exports=t.default}])});